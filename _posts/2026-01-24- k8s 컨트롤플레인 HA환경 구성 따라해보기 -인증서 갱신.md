---
layout: post
title: "[K8S Deploy Study by Gasida] - k8s 컨트롤플레인 HA환경 구성 따라해보기 -인증서 갱신"
categories:
  - kubernetes
tags:
  - k8s
  - kubeadm
---

# kubeadm certs renew 인증서 갱신과정

- 관리자가 `kubeadm certs renew all` 명령어 실행한다.
- /etc/kubernetes 에서 기존 인증서 및 Key를 로드한다.
- 새 만료기간 인증서 (.crt)를 저장한다
- Kubeconfig 내의 Embedded인증서를 업데이트 한다.

중요 : Static Pod는 인증서 변경을 자동으로 감지하지 못할 수 있음

- Static Pod 재시작을 유도한다. (manifests 파일 이동 또는 kubelet 재시작)
- kubelet새로운 인증서로 컨테이너를 재기동
- 갱신된 인증서로 서비스가 정상화 된다. 


# k8s-ctr1에서 인증서 갱신

